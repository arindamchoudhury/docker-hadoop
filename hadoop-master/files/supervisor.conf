[supervisord]
nodaemon=true

[program:sshd]
command=/usr/sbin/sshd -D

[program:consul]
directory=/usr/local/consul/
command=/usr/local/consul/bin/consul agent -config-dir /usr/local/consul/config --domain=%(ENV_CONSUL_DOMAIN_NAME)s -join %(ENV_CONSUL_SERVER_ADDR)s
stdout_logfile=/usr/local/consul/logs/consul-stdout.log
stderr_logfile=/usr/local/consul/logs/consul-error.log
numprocs=1
autostart=true
autorestart=true
stopsignal=INT

[program:namenode]
command=hadoop-daemon.sh start namenode

[program:resourcemanager]
command=yarn-daemon.sh start resourcemanager

[program:historyserver]
command=yarn-daemon.sh start historyserver
